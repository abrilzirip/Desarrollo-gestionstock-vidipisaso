CREATE TABLE TIPO_USUARIO
       (
       ID_TIPO_USUARIO INT NOT NULL,                              
       ROL CHAR(100) NOT NULL,                              
       PRIMARY KEY
               (
               ID_TIPO_USUARIO
               )
       );



CREATE TABLE PERMISOS
       (
       ID_PERMISOS INT NOT NULL,                              
       ATRIBUTO_DESCIPTIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_PERMISOS
               )
       );



CREATE TABLE CLIENTE
       (
       ID_CLIENTE INT NOT NULL,                              
       NOMBRE CHAR(255) NULL,                              
       APELLIDO CHAR(255) NULL,                              
       APODO CHAR(255) NULL,                              
       FECHA_ALTA DATETIME NOT NULL,                              
       PRIMARY KEY
               (
               ID_CLIENTE
               )
       );



CREATE TABLE BAJA
       (
       ID_BAJA INT NOT NULL,                              
       FECHA_BAJA DATETIME NOT NULL,                              
       PRIMARY KEY
               (
               ID_BAJA
               )
       );



CREATE TABLE VALOR
       (
       ID_VALOR INT NOT NULL,                              
       ATRIBUTO_DESCRIPTIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_VALOR
               )
       );



CREATE TABLE ALERTA
       (
       ID_ALERTA INT NOT NULL,                              
       ID_PRODUCTO INT NOT NULL,                              
       ID_CATEGORIA INT NOT NULL,                              
       ATRIBUTO_DESCRITIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_ALERTA
               )
       );



CREATE TABLE VENDEDOR
       (
       ID_TIPO_USUARIO INT NOT NULL,                              
       PRIMARY KEY
               (
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES TIPO_USUARIO
               (
               ID_TIPO_USUARIO
               )
       );



CREATE TABLE ADMINSTRADOR
       (
       ID_TIPO_USUARIO INT NOT NULL,                              
       ID_ALERTA INT NOT NULL,                              
       PRIMARY KEY
               (
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES TIPO_USUARIO
               (
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_ALERTA
               )
          REFERENCES ALERTA
               (
               ID_ALERTA
               )
       );



CREATE TABLE USUARIO
       (
       ID_USUARIO INT NOT NULL,                              
       ID_TIPO_USUARIO INT NOT NULL,                              
       ID_BAJA INT NOT NULL,                              
       ID_TIPO_USUARIO_1 INT NOT NULL,                              
       NOMBRE_USUARIO CHAR(255) NOT NULL,                              
       CONTRASENA CHAR(255) NOT NULL,                              
       FECHA_ALTA DATETIME NOT NULL,                              
       PRIMARY KEY
               (
               ID_USUARIO
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES TIPO_USUARIO
               (
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_BAJA
               )
          REFERENCES BAJA
               (
               ID_BAJA
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO_1
               )
          REFERENCES ADMINSTRADOR
               (
               ID_TIPO_USUARIO
               )
       );



CREATE TABLE AJUSTE
       (
       ID_AJUSTE INT NOT NULL,                              
       ID_TIPO_USUARIO INT NOT NULL,                              
       ID_VALOR INT NOT NULL,                              
       ID_PRODUCTO INT NOT NULL,                              
       ID_CATEGORIA INT NOT NULL,                              
       ATRIBUTO_DESCRIPTIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_AJUSTE
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES ADMINSTRADOR
               (
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_VALOR
               )
          REFERENCES VALOR
               (
               ID_VALOR
               )
       );



CREATE TABLE VENTA
       (
       ID_VENTA INT NOT NULL,                              
       ID_TIPO_USUARIO INT NOT NULL,                              
       ATRIBUTO_DESCRITIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_VENTA
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES VENDEDOR
               (
               ID_TIPO_USUARIO
               )
       );



CREATE TABLE CLIENTE_BAJA
       (
       ID_BAJA INT NOT NULL,                              
       ID_CLIENTE INT NOT NULL,                              
       ATRIBUTO_DESCRIPTIVO CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_BAJA
               ),
       FOREIGN KEY
               (
               ID_CLIENTE
               )
          REFERENCES CLIENTE
               (
               ID_CLIENTE
               )
       );



CREATE TABLE PRODUCTO
       (
       ID_PRODUCTO INT NOT NULL,                              
       ID_VENTA INT NOT NULL,                              
       NOMBRE CHAR(255) NOT NULL,                              
       PRECIO INT NOT NULL,                              
       CANTIDAD INT NOT NULL,                              
       PRIMARY KEY
               (
               ID_PRODUCTO
               ),
       FOREIGN KEY
               (
               ID_VENTA
               )
          REFERENCES VENTA
               (
               ID_VENTA
               )
       );



CREATE TABLE CATEGORIA
       (
       ID_CATEGORIA INT NOT NULL,                              
       ID_PRODUCTO INT NOT NULL,                              
       NOMBRE CHAR(255) NOT NULL,                              
       PRIMARY KEY
               (
               ID_CATEGORIA
               ),
       FOREIGN KEY
               (
               ID_PRODUCTO
               )
          REFERENCES PRODUCTO
               (
               ID_PRODUCTO
               )
       );



CREATE TABLE TIENE
       (
       ID_PERMISOS INT NOT NULL,                              
       ID_TIPO_USUARIO INT NOT NULL,                              
       PRIMARY KEY
               (
               ID_PERMISOS,
               ID_TIPO_USUARIO
               ),
       FOREIGN KEY
               (
               ID_PERMISOS
               )
          REFERENCES PERMISOS
               (
               ID_PERMISOS
               ),
       FOREIGN KEY
               (
               ID_TIPO_USUARIO
               )
          REFERENCES TIPO_USUARIO
               (
               ID_TIPO_USUARIO
               )
       );



CREATE TABLE GENERA_
       (
       ID_CLIENTE INT NOT NULL,                              
       ID_VENTA INT NOT NULL,                              
       PRIMARY KEY
               (
               ID_CLIENTE,
               ID_VENTA
               ),
       FOREIGN KEY
               (
               ID_CLIENTE
               )
          REFERENCES CLIENTE
               (
               ID_CLIENTE
               ),
       FOREIGN KEY
               (
               ID_VENTA
               )
          REFERENCES VENTA
               (
               ID_VENTA
               )
       );



ï¿½